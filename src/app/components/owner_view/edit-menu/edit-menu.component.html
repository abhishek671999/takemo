<div class="main-container">
    <mat-slide-toggle [ngModel]='restaurantStatus' color="primary" (change)="toggleRestoOpen()"></mat-slide-toggle>
    <div class="menu-container">
        <h4 class="text-center">Restaurant is open</h4>
        <h2 class="text-center">Edit menu</h2>
        <div class="text-center">
            <button mat-raised-button color='primary' class="add-category-button" title="Add a new category" svgIcon="plus" (click)="addCategory()">Add new category</button>
            <cdk-virtual-scroll-viewport itemSize="500" class="viewport" >
                <mat-expansion-panel [expanded]='true' class="expansion-panel" *ngFor="let category of menu_response.menu; let mainIndex = index">
                    <mat-expansion-panel-header >
                        <mat-panel-title>
                            {{category.category.name}}
                        </mat-panel-title>
                        <div>
                            <mat-icon style="margin: 5px 4em 0 0;" title="Delete this category" svgIcon="delete" (click)="deleteCategory(category)"></mat-icon>
                        </div>
                    </mat-expansion-panel-header>
                    <div class="text-center">
                        <button mat-raised-button color="primary" class="add-item-button" svgIcon="plus" (click)="addItem(category)">Add new Item to Category</button>
                    </div>
                    <table class="table table-hover">
                        <thead class="text-center">
                            <tr>
                                <th class="col1" scope="col">Id</th>
                                <th class="col2" scope="col">Item</th>
                                <th class="col3" scope="col">Price</th>
                                <th class="col4" scope="col">Availabe</th>
                                <th class="col5" scope="col">Edit</th>
                                <th class="col6" scope="col">Delete</th>
                            </tr>
                        </thead>
                        <tbody class="text-center" >
                            <!-- <p style="margin: 0; padding: 5px 0 0 10px; text-align: left;">{{category.category.name}}</p>         -->
                            <tr class="table-row" *ngFor="let item of category.category.items; let subIndex = index">
                                <td class="col1" >{{subIndex+1}}</td>
                                <td class="col2" >
                                    <img class="indicator-image" *ngIf="item.veg" src="../../../../assets/images/veg_icon.png">
                                    <img class="indicator-image" *ngIf="item.non_veg" src="../../../../assets/images/non_veg_icon.png">
                                    <img class="indicator-image" *ngIf="item.egg" src="../../../../assets/images/egg_icon.jpg">
                                    <p class="item-text">{{item.name}}</p>
                                </td>
                                <td class="col3" >â‚¹ {{item.price}}</td>
                                <td class="col4">
                                    <mat-slide-toggle color="primary" [ngModel]='item.is_available' (change)="toggleAvailability(item)"></mat-slide-toggle>
                                </td>
                                <td class="col5" [class.disabled]="item.is_available">
                                        <mat-icon svgIcon="edit" title="Edit this item" (click)="editItem(item)"></mat-icon>
                                </td>
                                <td class="col6">
                                    <mat-icon svgIcon="delete" title="Delete this item" (click)="deleteItem(item)"></mat-icon>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </mat-expansion-panel>
            </cdk-virtual-scroll-viewport>
        </div> 
    </div>  

</div>