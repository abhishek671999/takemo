<div class="main-container">
    <h1 mat-dialog-title>Add Item to {{data.category.name}}</h1>
    <form [formGroup]="addItemForm" (ngSubmit)="addItem()">
        <div mat-dialog-content>
            <mat-form-field class="form-field">
                <mat-label>Item Name</mat-label>
            <input matInput placeholder="Item name" formControlName="name">
            </mat-form-field>
            <mat-form-field  class="form-field">
                <mat-label >Price</mat-label>
            <input matInput type="number" placeholder="price" formControlName="price">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Counter Name</mat-label>
                <mat-select formControlName="counterId">
                    <mat-option>None</mat-option>
                    <mat-option *ngFor="let option of data.counters" [value]="option.counter_id">{{option.counter_name}}</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-radio-group formControlName="isVeg">
                <mat-radio-button value='veg'>Veg</mat-radio-button>
                <mat-radio-button value="non_veg">Non Veg</mat-radio-button>
                <mat-radio-button value="egg">Egg</mat-radio-button>
            </mat-radio-group>
            </div>
            <form class="upload-form">  
                <label
                  for="file"
                  (dragover)="handleDragOver($event)"
                  (drop)="handleDrop($event)"
                >
                  <i class="ph ph-upload"></i>
                  <span>
                    Click here to upload item image
                  </span>
                </label>
              
                <input
                  id="file"
                  type="file"
                  name="file"
                  (change)="onFileSelected($event)"
                />
              
                <div class="result" [style.display]="outputBoxVisible ? 'flex' : 'none'">
                  <i class="ph ph-file"></i>
                  <div class="file-details">
                    <span class="file-name">{{ fileName }}</span>
                    <ng-container *ngIf="uploadStatus === 200 || uploadStatus === undefined">
                      <span class="file-size">{{ fileSize }}</span>
                    </ng-container>
                  </div>
              
                  <div class="upload-result" [style.display]="uploadStatus ? 'flex' : 'none'">
                    <span>{{ uploadResult }}</span>
                    <ng-container *ngIf="uploadStatus === 200; else error">
                      <i class="ph ph-check-circle"></i>
                    </ng-container>
                    <ng-template #error>
                      <i class="ph ph-x-circle"></i>
                    </ng-template>
                  </div>
                </div>
              </form>
            <div mat-dialog-actions class="action-button">
                <div>
                    <button mat-raised-button (click)="close()">Close</button>
                </div>
                <div>
                    <button mat-raised-button color="primary" [disabled]="!addItemForm.valid">Yes</button>
                </div>
            </div>
    </form>
</div>