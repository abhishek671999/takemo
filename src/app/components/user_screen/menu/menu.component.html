<div class="main-container">
    <div *ngIf="showSpinner; else elseBlock">
        <div class="center-spin">
            <mat-spinner diameter="40" style="margin: 0 auto"></mat-spinner>
          </div>
    </div>
    <ng-template #elseBlock>
        <div class="flex-container" >
            <div class="table-container">
                <h2 class="text-center">Menu</h2>
            <cdk-virtual-scroll-viewport itemSize="500" class="example-viewport" >
                <mat-expansion-panel *ngFor="let category of menu_response.menu; let mainIndex = index">
                    <mat-expansion-panel-header >
                        <mat-panel-title>
                            {{category.category.name}}
                          </mat-panel-title>
                    </mat-expansion-panel-header>
                    <table class="table table-hover">
                        <thead class="text-center">
                            <tr>
                                <th class="col1" scope="col">Id</th>
                                <th class="col2" scope="col">Item</th>
                                <th class="col3" scope="col">Price</th>
                                <th class="col4" scope="col">Add</th>
                            </tr>
                        </thead>
                        <tbody class="text-center" >
                            <!-- <p style="margin: 0; padding: 5px 0 0 10px; text-align: left;">{{category.category.name}}</p>         -->
                            <tr class="table-row" *ngFor="let item of category.category.items; let subIndex = index">
                                <td class="col1" >{{subIndex+1}}</td>
                                <td class="col2" [class.disabled]="item.is_available">{{item.name}}</td>
                                <td class="col3" [class.disabled]="item.is_available">{{item.price}}</td>
                                <td class="col4" [class.disabled]="item.is_available">
                                        <i class="fa-solid fa-minus" (click)="subItem(item)"></i>
                                        <span class="m-3">{{item.quantity}}</span>
                                        <i class="fa-solid fa-plus" (click)="addItem(item)"></i>  
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </mat-expansion-panel>
            </cdk-virtual-scroll-viewport>
                
            </div>
            <div class="order-summary fixed">
                <div class="text-center amount">Total Amount:&nbsp;
                    &nbsp;â‚¹ {{amount}} </div>
                <div class="text-center prepare-summary"><button class="btn btn-primary" (click)="prepareSummary()" [disabled]="!amount">Place Order</button></div>
            </div>
        </div>
    </ng-template>
    
    

</div>